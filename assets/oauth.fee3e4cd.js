const A="3.7.2",$=A,L=typeof atob=="function",P=typeof btoa=="function",c=typeof Buffer=="function",g=typeof TextDecoder=="function"?new TextDecoder:void 0,_=typeof TextEncoder=="function"?new TextEncoder:void 0,Z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",f=Array.prototype.slice.call(Z),l=(t=>{let e={};return t.forEach((o,n)=>e[o]=n),e})(f),V=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,r=String.fromCharCode.bind(String),U=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):(t,e=o=>o)=>new Uint8Array(Array.prototype.slice.call(t,0).map(e)),C=t=>t.replace(/=/g,"").replace(/[+\/]/g,e=>e=="+"?"-":"_"),m=t=>t.replace(/[^A-Za-z0-9\+\/]/g,""),B=t=>{let e,o,n,s,a="";const x=t.length%3;for(let u=0;u<t.length;){if((o=t.charCodeAt(u++))>255||(n=t.charCodeAt(u++))>255||(s=t.charCodeAt(u++))>255)throw new TypeError("invalid character found");e=o<<16|n<<8|s,a+=f[e>>18&63]+f[e>>12&63]+f[e>>6&63]+f[e&63]}return x?a.slice(0,x-3)+"===".substring(x):a},h=P?t=>btoa(t):c?t=>Buffer.from(t,"binary").toString("base64"):B,b=c?t=>Buffer.from(t).toString("base64"):t=>{const e=4096;let o=[];for(let n=0,s=t.length;n<s;n+=e)o.push(r.apply(null,t.subarray(n,n+e)));return h(o.join(""))},d=(t,e=!1)=>e?C(b(t)):b(t),j=t=>{if(t.length<2){var e=t.charCodeAt(0);return e<128?t:e<2048?r(192|e>>>6)+r(128|e&63):r(224|e>>>12&15)+r(128|e>>>6&63)+r(128|e&63)}else{var e=65536+(t.charCodeAt(0)-55296)*1024+(t.charCodeAt(1)-56320);return r(240|e>>>18&7)+r(128|e>>>12&63)+r(128|e>>>6&63)+r(128|e&63)}},J=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,F=t=>t.replace(J,j),S=c?t=>Buffer.from(t,"utf8").toString("base64"):_?t=>b(_.encode(t)):t=>h(F(t)),i=(t,e=!1)=>e?C(S(t)):S(t),w=t=>i(t,!0),Q=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,G=t=>{switch(t.length){case 4:var e=(7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3),o=e-65536;return r((o>>>10)+55296)+r((o&1023)+56320);case 3:return r((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return r((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},R=t=>t.replace(Q,G),D=t=>{if(t=t.replace(/\s+/g,""),!V.test(t))throw new TypeError("malformed base64.");t+="==".slice(2-(t.length&3));let e,o="",n,s;for(let a=0;a<t.length;)e=l[t.charAt(a++)]<<18|l[t.charAt(a++)]<<12|(n=l[t.charAt(a++)])<<6|(s=l[t.charAt(a++)]),o+=n===64?r(e>>16&255):s===64?r(e>>16&255,e>>8&255):r(e>>16&255,e>>8&255,e&255);return o},p=L?t=>atob(m(t)):c?t=>Buffer.from(t,"base64").toString("binary"):D,E=c?t=>U(Buffer.from(t,"base64")):t=>U(p(t),e=>e.charCodeAt(0)),O=t=>E(I(t)),W=c?t=>Buffer.from(t,"base64").toString("utf8"):g?t=>g.decode(E(t)):t=>R(p(t)),I=t=>m(t.replace(/[-_]/g,e=>e=="-"?"+":"/")),y=t=>W(I(t)),H=t=>{if(typeof t!="string")return!1;const e=t.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(e)||!/[^\s0-9a-zA-Z\-_]/.test(e)},T=t=>({value:t,enumerable:!1,writable:!0,configurable:!0}),v=function(){const t=(e,o)=>Object.defineProperty(String.prototype,e,T(o));t("fromBase64",function(){return y(this)}),t("toBase64",function(e){return i(this,e)}),t("toBase64URI",function(){return i(this,!0)}),t("toBase64URL",function(){return i(this,!0)}),t("toUint8Array",function(){return O(this)})},k=function(){const t=(e,o)=>Object.defineProperty(Uint8Array.prototype,e,T(o));t("toBase64",function(e){return d(this,e)}),t("toBase64URI",function(){return d(this,!0)}),t("toBase64URL",function(){return d(this,!0)})},K=()=>{v(),k()},q={version:A,VERSION:$,atob:p,atobPolyfill:D,btoa:h,btoaPolyfill:B,fromBase64:y,toBase64:i,encode:i,encodeURI:w,encodeURL:w,utob:F,btou:R,decode:y,isValid:H,fromUint8Array:d,toUint8Array:O,extendString:v,extendUint8Array:k,extendBuiltins:K};var z;(function(t){t.CONNECT="connect",t.LOGIN="login"})(z||(z={}));const N="https";function M(t){const e=q.encode(JSON.stringify({type:t}),!0);return`https://graph.qq.com/oauth2.0/authorize?response_type=code&client_id=101854970&redirect_uri=${encodeURIComponent(`${N}://ol.woobx.cn/oauth/qq/callback`)}&scope=get_user_info&state=${e}`}function X(t){const e=q.encode(JSON.stringify({type:t}),!0);return`https://open.weixin.qq.com/connect/qrconnect?appid=wx620bf659f52f13e6&redirect_uri=${`${N}://ol.woobx.cn/oauth/wechat/callback`}&response_type=code&scope=snsapi_login&state=${e}`}export{z as O,M as a,q as b,X as g};
